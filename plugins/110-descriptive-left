#!/usr/bin/env bash
set -euo pipefail
m="${SEASONING_MODE:-0}"
LC_TIME=C
dow="$(date +%A | tr '[:upper:]' '[:lower:]')"
H=$(date +%H)
case "$H" in
  00|01|02|03|04|05) tod="night" ;;
  06|07|08|09|10|11) tod="morning" ;;
  12|13|14|15|16|17) tod="afternoon" ;;
  *)                 tod="evening" ;;
esac
case "$m" in
  0) printf "%s %s\n" "$dow" "$tod" ;;
  1) d=$(date +%-d); suf="th"; case "$d" in 1|21|31) suf="st";; 2|22) suf="nd";; 3|23) suf="rd";; esac
     printf "%s the %d%s\n" "$dow" "$d" "$suf" ;;
esac
