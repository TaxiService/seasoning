#!/usr/bin/env bash
set -euo pipefail
OUT="$(/usr/bin/seasoning which-output 2>/dev/null || echo default)"
F="$HOME/.cache/seasoning/$OUT/side.left.mode"; M=0; [[ -f "$F" ]] && M=$(<"$F")
dow="$(date +%A)"; h=$((10#$(date +%H)))
if   (( h<6 )); then tod="night"
elif (( h<12)); then tod="morning"
elif (( h<18)); then tod="afternoon"
else               tod="evening"; fi
case "$M" in
  0) printf "%s %s\n" "$dow" "$tod" ;;
  1) printf "%s %s\n" "${dow,,}" "$tod" ;;
  2) printf "%.3s %.3s\n" "$dow" "$tod" ;;
  3) printf "%s %s\n" "$(date +%a)" "$tod" ;;
esac
